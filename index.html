<html lang="id" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Desa Kuamang Jaya - Aplikasi Kasi Kaur</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
    rel="stylesheet"
  />
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">
  <header class="bg-green-700 text-white shadow-md">
    <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row md:items-center md:justify-between">
      <h1 class="text-2xl font-semibold text-center md:text-left">
        Desa Kuamang Jaya
      </h1>
      <p class="text-sm md:text-base mt-1 md:mt-0 text-center md:text-right">
        Kecamatan Pelepat Ilir, Kabupaten Bungo, Provinsi Jambi
      </p>
    </div>
  </header>

  <main class="flex-grow container mx-auto px-4 py-8 max-w-4xl">
    <section id="login-section" class="max-w-md mx-auto bg-white rounded-lg shadow-md p-6">
      <h2 class="text-xl font-semibold mb-6 text-center text-green-700">
        Login Kasi Kaur
      </h2>
      <form id="loginForm" class="space-y-5">
        <div>
          <label for="username" class="block mb-1 font-medium text-gray-700">Username</label>
          <input
            type="text"
            id="username"
            name="username"
            required
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"
            placeholder="Masukkan username"
            autocomplete="username"
          />
        </div>
        <div>
          <label for="password" class="block mb-1 font-medium text-gray-700">Password</label>
          <input
            type="password"
            id="password"
            name="password"
            required
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"
            placeholder="Masukkan password"
            autocomplete="current-password"
          />
        </div>
        <button
          type="submit"
          class="w-full bg-green-700 hover:bg-green-800 text-white font-semibold py-2 rounded-md transition"
        >
          Login
        </button>
      </form>
      <p id="loginError" class="mt-4 text-red-600 text-center hidden"></p>
    </section>

    <section id="dashboard-section" class="hidden mt-10 max-w-4xl mx-auto bg-white rounded-lg shadow-md p-6">
      <div class="flex justify-between items-center mb-6">
        <h2 id="dashboardTitle" class="text-2xl font-semibold text-green-700"></h2>
        <button
          id="logoutBtn"
          class="text-red-600 hover:text-red-800 font-semibold focus:outline-none"
          title="Logout"
          aria-label="Logout"
        >
          <i class="fas fa-sign-out-alt fa-lg"></i>
        </button>
      </div>
      <div id="tasksContainer" class="space-y-6">
        <!-- Tasks will be injected here -->
      </div>
    </section>
  </main>

  <footer class="bg-green-700 text-white text-center py-4 mt-auto">
    <p>Â© 2024 Desa Kuamang Jaya - Kecamatan Pelepat Ilir, Kabupaten Bungo, Provinsi Jambi</p>
  </footer>

  <script>
    // Data for Kasi Kaur users and their tasks (tupoksi)
    const users = {
      kaur_tu: {
        name: "Kasi Tata Usaha (TU)",
        password: "tu123",
        tasks: [
          {
            title: "Membuat Surat SKU (Surat Keterangan Usaha)",
            description:
              "Membuat dan mengelola surat keterangan usaha untuk warga desa Kuamang Jaya.",
            icon: "fas fa-file-alt",
            image: "https://placehold.co/600x400/png?text=Surat+SKU+Desa+Kuamang+Jaya",
            alt: "Ilustrasi surat keterangan usaha yang sedang dibuat di kantor desa Kuamang Jaya",
          },
          {
            title: "Membuat Surat SKTM (Surat Keterangan Tidak Mampu)",
            description:
              "Menerbitkan surat keterangan tidak mampu untuk warga yang membutuhkan bantuan sosial.",
            icon: "fas fa-file-signature",
            image: "https://placehold.co/600x400/png?text=Surat+SKTM+Desa+Kuamang+Jaya",
            alt: "Ilustrasi surat keterangan tidak mampu yang sedang diproses di kantor desa Kuamang Jaya",
          },
          {
            title: "Membuat Surat Perjalanan Dinas",
            description:
              "Membuat surat perjalanan dinas bagi perangkat desa yang melakukan tugas luar.",
            icon: "fas fa-route",
            image: "https://placehold.co/600x400/png?text=Surat+Perjalanan+Dinas+Desa+Kuamang+Jaya",
            alt: "Ilustrasi surat perjalanan dinas yang sedang disiapkan di kantor desa Kuamang Jaya",
          },
          {
            title: "Membuat Surat Pengantar Nikah",
            description:
              "Menerbitkan surat pengantar nikah bagi warga yang akan melangsungkan pernikahan.",
            icon: "fas fa-ring",
            image: "https://placehold.co/600x400/png?text=Surat+Pengantar+Nikah+Desa+Kuamang+Jaya",
            alt: "Ilustrasi surat pengantar nikah yang sedang dibuat di kantor desa Kuamang Jaya",
          },
        ],
      },
      kaur_keuangan: {
        name: "Kasi Keuangan",
        password: "keu123",
        tasks: [
          {
            title: "Mengelola Anggaran Desa",
            description:
              "Mengatur dan memantau penggunaan anggaran desa sesuai peraturan yang berlaku.",
            icon: "fas fa-wallet",
            image: "https://placehold.co/600x400/png?text=Mengelola+Anggaran+Desa",
            alt: "Ilustrasi pengelolaan anggaran desa Kuamang Jaya dengan dokumen dan kalkulator",
          },
          {
            title: "Membuat Laporan Keuangan",
            description:
              "Menyusun laporan keuangan desa secara berkala untuk transparansi dan akuntabilitas.",
            icon: "fas fa-file-invoice-dollar",
            image: "https://placehold.co/600x400/png?text=Laporan+Keuangan+Desa",
            alt: "Ilustrasi laporan keuangan desa Kuamang Jaya yang sedang disusun di komputer",
          },
          {
            title: "Mencatat Penerimaan dan Pengeluaran",
            description:
              "Mencatat semua transaksi penerimaan dan pengeluaran dana desa secara rinci.",
            icon: "fas fa-receipt",
            image: "https://placehold.co/600x400/png?text=Pencatatan+Transaksi+Keuangan",
            alt: "Ilustrasi pencatatan transaksi keuangan desa Kuamang Jaya dengan buku kas",
          },
        ],
      },
      kaur_umum: {
        name: "Kasi Umum",
        password: "umum123",
        tasks: [
          {
            title: "Mengelola Administrasi Umum",
            description:
              "Mengatur administrasi umum desa seperti surat menyurat dan arsip dokumen.",
            icon: "fas fa-archive",
            image: "https://placehold.co/600x400/png?text=Administrasi+Umum+Desa",
            alt: "Ilustrasi pengelolaan administrasi umum desa Kuamang Jaya dengan tumpukan dokumen",
          },
          {
            title: "Mengatur Kegiatan Desa",
            description:
              "Membantu koordinasi dan pelaksanaan kegiatan desa bersama perangkat lainnya.",
            icon: "fas fa-calendar-alt",
            image: "https://placehold.co/600x400/png?text=Pengaturan+Kegiatan+Desa",
            alt: "Ilustrasi perencanaan kegiatan desa Kuamang Jaya dengan kalender dan catatan",
          },
          {
            title: "Melayani Warga Desa",
            description:
              "Memberikan pelayanan administrasi dan informasi kepada warga desa Kuamang Jaya.",
            icon: "fas fa-hands-helping",
            image: "https://placehold.co/600x400/png?text=Pelayanan+Warga+Desa",
            alt: "Ilustrasi pelayanan warga desa Kuamang Jaya di kantor desa dengan staf yang ramah",
          },
        ],
      },
      kaur_perencanaan: {
        name: "Kasi Perencanaan",
        password: "rencana123",
        tasks: [
          {
            title: "Menyusun Rencana Kerja Desa",
            description:
              "Membuat dan mengelola rencana kerja tahunan desa Kuamang Jaya.",
            icon: "fas fa-tasks",
            image: "https://placehold.co/600x400/png?text=Rencana+Kerja+Desa",
            alt: "Ilustrasi penyusunan rencana kerja desa Kuamang Jaya dengan dokumen dan laptop",
          },
          {
            title: "Mengawasi Pelaksanaan Program",
            description:
              "Memantau dan mengevaluasi pelaksanaan program pembangunan desa.",
            icon: "fas fa-search",
            image: "https://placehold.co/600x400/png?text=Pengawasan+Program+Desa",
            alt: "Ilustrasi pengawasan pelaksanaan program desa Kuamang Jaya dengan grafik dan laporan",
          },
          {
            title: "Menyusun Laporan Perencanaan",
            description:
              "Membuat laporan perencanaan pembangunan desa untuk disampaikan ke pemerintah kecamatan.",
            icon: "fas fa-file-alt",
            image: "https://placehold.co/600x400/png?text=Laporan+Perencanaan+Desa",
            alt: "Ilustrasi laporan perencanaan desa Kuamang Jaya yang sedang disusun di meja kerja",
          },
        ],
      },
    };

    const loginForm = document.getElementById("loginForm");
    const loginError = document.getElementById("loginError");
    const loginSection = document.getElementById("login-section");
    const dashboardSection = document.getElementById("dashboard-section");
    const dashboardTitle = document.getElementById("dashboardTitle");
    const tasksContainer = document.getElementById("tasksContainer");
    const logoutBtn = document.getElementById("logoutBtn");

    function clearTasks() {
      tasksContainer.innerHTML = "";
    }

    function createTaskCard(task) {
      const card = document.createElement("article");
      card.className =
        "bg-green-50 border border-green-200 rounded-lg p-5 shadow-sm flex flex-col md:flex-row md:items-center md:space-x-6";

      const iconWrapper = document.createElement("div");
      iconWrapper.className =
        "text-green-700 text-4xl mb-4 md:mb-0 flex-shrink-0 w-16 h-16 flex items-center justify-center rounded-full bg-green-100";

      const icon = document.createElement("i");
      icon.className = task.icon;
      iconWrapper.appendChild(icon);

      const content = document.createElement("div");
      content.className = "flex-1";

      const title = document.createElement("h3");
      title.className = "text-lg font-semibold text-green-900 mb-1";
      title.textContent = task.title;

      const desc = document.createElement("p");
      desc.className = "text-green-800";
      desc.textContent = task.description;

      content.appendChild(title);
      content.appendChild(desc);

      const imgWrapper = document.createElement("div");
      imgWrapper.className = "mt-4 md:mt-0 md:w-48 flex-shrink-0";

      const img = document.createElement("img");
      img.src = task.image;
      img.alt = task.alt;
      img.className = "rounded-md object-cover w-full h-32 md:h-24";

      imgWrapper.appendChild(img);

      card.appendChild(iconWrapper);
      card.appendChild(content);
      card.appendChild(imgWrapper);

      return card;
    }

    function showDashboard(userKey) {
      const user = users[userKey];
      dashboardTitle.textContent = `Selamat Datang, ${user.name}`;
      clearTasks();
      user.tasks.forEach((task) => {
        const taskCard = createTaskCard(task);
        tasksContainer.appendChild(taskCard);
      });
      loginSection.classList.add("hidden");
      dashboardSection.classList.remove("hidden");
      loginError.classList.add("hidden");
      loginForm.reset();
    }

    function logout() {
      dashboardSection.classList.add("hidden");
      loginSection.classList.remove("hidden");
      loginError.classList.add("hidden");
      loginForm.reset();
    }

    loginForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const username = loginForm.username.value.trim().toLowerCase();
      const password = loginForm.password.value;

      if (users[username] && users[username].password === password) {
        showDashboard(username);
      } else {
        loginError.textContent = "Username atau password salah. Silakan coba lagi.";
        loginError.classList.remove("hidden");
      }
    });

    logoutBtn.addEventListener("click", () => {
      logout();
    });

    // Accessibility: focus on username input on page load
    window.addEventListener("load", () => {
      loginForm.username.focus();
    });
  </script>
</body>
</html>
